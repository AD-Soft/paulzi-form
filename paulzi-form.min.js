/**
 * @see https://github.com/paulzi/paulzi-form
 * @license MIT (https://github.com/paulzi/paulzi-form/blob/master/LICENSE)
 * @version 2.5.3
 */
!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){var t=function(t){var a=t.find("output, .form-output").first(),r=t.data("formOutput");return r&&(a=e(r)),a},a=function(t){return-1!==e.inArray(t.prop("tagName"),["INPUT","BUTTON"])&&t.attr("type")&&-1!==e.inArray(t.attr("type").toLowerCase(),["submit","image"])};e.fn.formAlert=function(a,r,n){var o=e(this),i=e(n?a:e.parseHTML(a,!0));return i.hasClass("alert")||(r=r||"info",i=e('<div role="alert" class="alert alert-'+r+'">').append(i)),e.fn.alert&&!i.hasClass("alert-dismissible")&&(i.addClass("alert-dismissible"),e('<button type="button" class="close" aria-label="close" data-dismiss="alert">').html('<span aria-hidden="true">&times;</span>').prependTo(i)),i.addClass("fade in").appendTo(t(o)),i},e(document).on("click",function(t){document.activeElement===document.body&&a(e(t.target))&&e(t.target).focus()});var r=function(t){if(t.isDefaultPrevented())return!1;var r=e(this);if(r.hasClass("form-loading")&&!r.hasClass("form-no-block"))return t.preventDefault(),!1;r.addClass("form-loading");var n=e(document.activeElement).filter(".btn-loading");a(n)||(n=r.find(".btn-loading.btn-submit-default")),n.addClass("disabled");var o=n.attr("data-loading-text");o&&(n.data("paulziFormLoadingText",n.html()),n.html(o));var i=n.data("loadingIcon");i&&(e("<span>&nbsp;</span>").addClass("btn-loading-space").prependTo(n),e("<i>").addClass("btn-loading-icon").addClass(i).prependTo(n))},n=function(t){var a=e(this).find(".btn-loading.disabled");a.removeClass("disabled"),a.children(".btn-loading-icon, .btn-loading-space").remove(),a.each(function(){var t=e(this),a=t.data("paulziFormLoadingText");a&&t.html(a)})};e(document).on("submit.paulzi-form","form",r),e(document).on("formajaxalways.paulzi-form",".form-ajax",n);var o,i=["action","enctype","method","target"],d="paulzi-form-polyfill",s=d+"-disabled",l=function(){if("undefined"!=typeof o)return o;var e=document.createElement("input"),t=document.createElement("form"),a="paulzi-form-support";return t.id=a,document.body.appendChild(t),document.body.appendChild(e),e.setAttribute("form",a),o=e.form===t,document.body.removeChild(t),document.body.removeChild(e),o},u=function(){var e=document.createElement("input");return!!("formAction"in e)},m=function(t){var r=this,n=e(this);if(!l()){var o,m=n.attr("id");o=n.find("[form]").not(":disabled"),m&&(o=o.not('[form="'+m+'"]')),o.addClass(s).prop("disabled",!0),m&&e('[form="'+m+'"]').not("form#"+m+' [form="'+m+'"]').filter(function(){return this.name&&!e(this).is(":disabled")&&(this.checked||"checkbox"!==this.type&&"radio"!==this.type)}).each(function(){e('<input type="hidden">').attr("name",this.name).val(e(this).val()).addClass(d).appendTo(r)})}if(!u()){var f=e(document.activeElement);a(f)&&e.each(i,function(e,t){var a=f.attr("form"+t);a&&n.data("paulziFormPolyfill"+t,a).attr(t,a)})}},f=function(t){var a=e(this);l()||(a.find("."+d).remove(),a.find("."+s).removeClass(s).prop("disabled",!1)),u()||e.each(i,function(e,t){var r="paulziFormPolyfill"+t,n=a.data(r);n&&a.attr(t,n).removeData(r)})};e(document).on("submit.paulzi-form","form",m),e(document).on("formajaxalways.paulzi-form","form",f);var p="paulzi-form-no-empty-item",c=function(t){return e(this).find(":enabled").not('button,input[type="submit"]').filter(function(){return""==this.value}).addClass(p).prop("disabled",!0),!0},v=function(t){e(this).find("."+p).removeClass(p).prop("disabled",!1)};e(document).on("submit.paulzi-form",".form-no-empty",c),e(document).on("formajaxalways.paulzi-form",".form-no-empty",v);var b=function(t){var a=e(this).offset();e(this).prop("paulziFormX",Math.round(t.pageX-a.left)).prop("paulziFormY",Math.round(t.pageY-a.top))},h=function(r){if(r.isDefaultPrevented())return!1;if(e(document.activeElement).hasClass("btn-no-ajax"))return!0;r.preventDefault();var n=e(this),o=function(e){var t=e.getResponseHeader("X-Redirect");return t?(document.location.href=t,!0):!1},i="multipart/form-data"==n.attr("enctype")&&"function"==typeof e.fn.ajaxSubmit,d=function(a,r,d){var s=jQuery.Event("formajaxdone");if(n.trigger(s,arguments),!s.isDefaultPrevented()&&!o(d)&&(i||/^text\/html(;|$)/.test(d.getResponseHeader("Content-Type")))){var l=e(e.parseHTML(a,!0));if(n.trigger("contentprepare",[l]),l.hasClass("form-replace"))n.replaceWith(l),n=l;else{var u=t(n),m=l.data("formOutput");m&&(u=e(m)),l.hasClass("alert")&&(l=n.formAlert(l,!1,!0)),u.html(l)}n.trigger("contentinit",[l])}},s=function(t,a,r){var i=jQuery.Event("formajaxfail");if(n.trigger(i,arguments),!i.isDefaultPrevented()&&!o(t)){var d=!1;t.responseText&&(d=e(e.parseHTML(t.responseText,!0))),d&&d.hasClass("alert")?n.formAlert(d,!1,!0):(d=["["+a+"]",r,t.responseText].join("<br>"),n.formAlert(d,"danger"))}},l=function(){var e=jQuery.Event("formajaxalways");n.trigger(e,arguments),e.isDefaultPrevented()||n.removeClass("form-loading")},u=function(e,t){var a=jQuery.Event("formajaxbefore");return n.trigger(a,[e,t]),!a.isDefaultPrevented()},m=jQuery.Event("formajaxbeforeparams");if(n.trigger(m),!m.isDefaultPrevented()){if(i)n.ajaxSubmit({beforeSubmit:function(e,t,a){a.beforeSend=u},success:d,error:s,complete:l,data:{"X-Requested-With":"XMLHttpRequest"},uploadProgress:function(e){var t=0,a=e.loaded||e.position,r=e.total;e.lengthComputable&&(t=a/r*100),n.trigger("formajaxprogress",[a,r,t])}});else{var f,p=n.attr("action"),c=n.attr("method")||"GET",v=n.serializeArray(),b=e(document.activeElement),h=!b.is(":disabled")&&a(b);h&&((f=b.attr("formaction"))&&(p=f),(f=b.attr("formmethod"))&&(c=f),b.attr("name")&&(f=b.prop("paulziFormX"),"number"==typeof f?(v.push({name:b.attr("name")+".x",value:f}),b.removeProp("paulziFormX")):v.push({name:b.attr("name"),value:b.val()}),f=b.prop("paulziFormY"),"number"==typeof f&&(v.push({name:b.attr("name")+".y",value:f}),b.removeProp("paulziFormY")))),e.ajax({method:c,url:p,data:v,beforeSend:u}).done(d).fail(s).always(l)}return!1}};e(document).on("click.paulzi-form",'input[type="image"]',b),e(document).on("submit.paulzi-form",".form-ajax",h);var g="paulzi-form-scenario-disabled",y=function(t){return e(this).find(".form-on-none, .form-on-ajax").find(":enabled").addBack(":enabled").addClass(g).prop("disabled",!0),!0},C=function(t){return e(this).find(".form-on-none, .form-on-submit").find(":enabled").addBack(":enabled").addClass(g).prop("disabled",!0),!0},x=function(t){e(this).find("."+g).removeClass(g).prop("disabled",!1)};e(document).on("submit.paulzi-form",y),e(document).on("formajaxbeforeparams.paulzi-form",C),e(document).on("formajaxalways.paulzi-form",x)});